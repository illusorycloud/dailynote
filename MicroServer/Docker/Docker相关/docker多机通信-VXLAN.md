## Docker 多机通信技术、

docker的多机通信主要使用`VXLAN`技术

## SDN

 软件定义网络（Software Defined Network，*SDN*)

 SDN是一种框架和思想，核心诉求是通过软件控制网络，实现业务的自动化部署，为方便软件来控制网络，希望控制面和转发面是分离的。 

>  例如，传统的交换机内部，由交换机负责具体的网络流量往哪里转发，在SDN中，有一个控制器进行流量转发的计算，然后将结果发送给交换机，交换机只进行简单的转发，从分布式的控制转发过程称为集中式的控制，使得控制和转发平面相分离。 
## Underlay

UnderLay指的是物理网络，它由物理设备和物理链路组成。常见的物理设备有交换机、路由器、防火墙、负载均衡、入侵检测、行为管理等，这些设备通过特定的链路连接起来形成了一个传统的物理网络，这样的物理网络，我们称之为UnderLay网络。

## Overlay

>  Overlay在网络技术领域，指的是一种网络架构上叠加的虚拟化技术模式，其大体框架是对基础网络不进行大规模修改的条件下，实现应用在网络上的承载，并能与其它网络业务分离，并且以基于IP的基础网络技术为主。 

OverLay其实就是一种隧道技术，VXLAN，NVGRE及STT是典型的三种隧道技术，它们都是通过隧道技术实现大二层网络。将原生态的二层数据帧报文进行封装后在通过隧道进行传输。总之，通过OverLay技术，我们在对物理网络不做任何改造的情况下，通过隧道技术在现有的物理网络上创建了一个或多个逻辑网络即虚拟网络，有效解决了物理数据中心，尤其是云数据中心存在 的诸多问题，实现了数据中心的自动化和智能化。

与UnderLay网络相比，OverLay实现了控制与转发的分离，这是SDN的核心理念，同时，也验证了前面一句话即“VXLAN是SDN的核心技术”，总之，“不懂VXLAN，何谈SDN”





## VLAN

` VLAN（Virtual Local Area Network）`的中文名为`虚拟局域网`。VLAN是一种将局域网设备从逻辑上划分成一个个网段，从而实现虚拟工作组的数据交换技术。这一技术主要应用于交换机和路由器中，但主流应用还是在交换机之中。但又不是所有交换机都具有此功能，只有VLAN协议的第二层以上交换机才具有此功能。802.1Q的标准的出现打破了虚拟网依赖于单一厂商的僵局，从一个侧面推动了VLAN的迅速发展。 

>  VLAN的作用，主要是将一个大的广播域隔离开来，形成多个小的广播域，各个广播域内可以互通，广播域之间默认不能直接通讯 

如果某局域网中有1000台主机，只要其他一台电脑发出了一个广播包，这个广播包是会泛洪到整个网络的所有设备上，每台电脑都会收到这个广播包。 

 这会严重的浪费系统资源，也会造成安全隐患，比如有一个用户在不停的发ARP包，每秒钟发10万个，那整个网络的所有设备每秒钟都要去处理大量的ARP包，这会消耗大量的CPU、内存以及带宽，从而无法利用空闲的资源去完成真正需要的通讯。 

 所以，使用VLAN技术，可以将一个大的广播域，根据需求去切割开来，分成若干的小型的广播域，每种数据帧（单播、广播、组播）都只能在同一个VLAN里泛洪，如果要传到其他VLAN去，就必须要经过三层路由来转发。 

## VXLAN

`VXLAN（Virtual eXtensible Local Area Network，虚拟扩展局域网）`，是由IETF定义的NVO3（Network Virtualization over Layer 3）标准技术之一，采用L2 over L4（MAC-in-UDP）的报文封装模式，将二层报文用三层协议进行封装，可实现二层网络在三层范围内进行扩展，同时满足数据中心大二层虚拟迁移和多租户的需求。 