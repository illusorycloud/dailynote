# 微服务四大疑问

## 1.客户端如何访问这些服务?

API Gateway 网关聚合所有服务。

## 2 .每个服务之间如何通信？

**同步调用**：REST(Spring Boot)/RPC(Dubbo)
**异步调用**：消息队列MQ

## 3.如此多的服务，如何实现？

服务注册与发现`ZooKeeper`、`Eureka`
**基于客户端的服务注册与发现**: 客户端去注册中心查询IP与端口号后再调用服务
**基于服务端的服务注册与发现**：客户端直接调用负载均衡服务器，由负载均衡服务器与注册中心查询

## 4.服务挂了，如何解决？

**重试机制**：请求失败或超时后再次发起请求。
**限流**： 客户端限流，降低并发量。
**熔断机制**： 链式调用中，若流量过大则直接在第一个服务就返回错误信息，不在继续往后请求。
**负载均衡**： 将请求分发到不同的服务器，降低压力
**降级（本地缓存）**：流量过大时直接让该服务下线，不在产生新的请求进来。

