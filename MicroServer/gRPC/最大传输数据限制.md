# gPRC最大传输数据限制



```sh
details = "Received message larger than max (6194304 vs. 4194304)"
```

接收消息超过了最大限制(默认4M)

可以在建立连接的时候修改这个限制。

### golang

服务端

```go
maxSize := 20 * 1024 * 1024
s := grpc.NewServer(grpc.MaxRecvMsgSize(maxSize), grpc.MaxSendMsgSize(maxSize))
PbDownMaxSize.RegisterPbDownMaxSizeServer(s, &server{})
s.Serve(listener)
```



客户端

```go
maxSize := 20 * 1024 * 1024
diaOpt := grpc.WithDefaultCallOptions(grpc.MaxCallRecvMsgSize(maxSize), grpc.MaxCallSendMsgSize(maxSize))
conn, err := grpc.Dial(endpoint, grpc.WithInsecure(), diaOpt)
```





### python

```python
MAX_MESSAGE_LENGTH=20 * 1024 * 1024
grpcServer = grpc.server(futures.ThreadPoolExecutor(max_workers=4),options=[('grpc.max_send_message_length', MAX_MESSAGE_LENGTH), ( 'grpc.max_receive_message_length', MAX_MESSAGE_LENGTH)])
```

