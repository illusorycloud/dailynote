# systemd占用内存过高

## 问题概述

最近几天服务器上的es集群突然挂掉了，虽然是测试服务器，都跑几个月了昨天突然就连不上，当时也没管这么多直接就重启了一波，然后可以正常使用了。

今天去看发现又挂了。。

找了下原因，发现可用内存不足。

`top`命令看了一下，`systemd`占了60%多的内存，这。。

怪不得es又挂掉了呢。



## 解决

网上查了查发现这个问题存在于Centos7.2操作系统，因为Centos7系统使用了Systemd，然后也不是都这样，就是现在遇到的是个别的业务上面跑的java程序的机器上面，systemd进所占内存会日益增加，导致应用能够使用的内存越来越小。 

>  https://bugzilla.redhat.com/show_bug.cgi?id=1308780  #就是这个bug 

### 永久解决

就应该是别用Centos7.2操作系统了使用更高级的版本或者升级systemd.因为看上面哪个连接介绍Centos7.3不存在这个问题了，这个问题是systemd-219-30以前存在的问题。

```sh
# yum install systemd
```

升级之后确实问题解决了。

### 临时解决

```sh
# systemctl daemon-reexec
```

执行这个命令将你的内存占用释放就行了



