Bitmap

```java
BitmapFactory.Options options = new BitmapFactory.Options();
options.inJustDecodeBounds = true;
BitmapFactory.decodeResource(getResources(), R.id.myimage, options);
int imageHeight = options.outHeight;
int imageWidth = options.outWidth;
String imageType = options.outMimeType;
```

创建单例

```java
public class Singleton {
	//构造函数私有化
    private Singleton(){}
    //创建对象
    private volatile static Singleton singleton;
    //提供公共方法获取实例
    public static Singleton getInstance(){
    //判断实例是否为空
        if(singleton==null){
		//加同步
            synchronized(Singleton.class){
			//再次判断实例是否为空
                if(singleton==null){
					//为空则new一个实例
                    singleton=new Singleton();
                }
            }
        }
		//返回实例
        return singleton；
    }
}
```
请求权限

```java
if (Build.VERSION.SDK_INT >= 23) {
    if (Settings.canDrawOverlays(this)) {
        //如果赋权直接如行如下程序
        Intent intent = new Intent(this, MyFloatService.class);
        startService(intent);
    } else {
        // 跳转到相关的设置权限设置页面
        Intent intent = new Intent(Settings.ACTION_MANAGE_OVERLAY_PERMISSION);
        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);
        startActivity(intent);
    }
} else {
    	// 版本低于Android 6.0，直接显示悬浮窗
    Intent intent = new Intent(this, MyFloatService.class);
    startService(intent);
}

```