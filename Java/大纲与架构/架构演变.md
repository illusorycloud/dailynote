# 架构的演变

## 1.架构演变

### 1.MVC架构

MVC架构就是一个单体架构。

代表技术：Struts2、SpringMVC、Spring、Mybatis等

### 2.RPC架构

*RPC*（Remote Procedure Call）—远程过程调用,通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。

代表技术：Thrift、Hessian等

### 3. SOA架构

SOA-->  Service-Oriented Architecture 面向服务的结构 

ESB(Enterparise Service Bus):企业服务总线，服务中介，主要提供服务于服务间交互。

ESB包含的功能：负载均衡、流量控制、加密处理、服务监控、异常处理、监控告急等

代表技术：Mule、WSO2

### 4.微服务架构

微服务就是一个轻量级的服务治理方案。

代表技术：SpringCloud、Dubbo等。

## 2. 如何设计微服务

### 2.1 AKF拆分原则

AKF可拓展立方，对应用进行xyz轴进行拓展。

X轴：水平拓展， 集群处理

Y轴：功能，按业务拆分，服务于应用间添加中间层服务网关用于管理

Z轴：数据分区，

### 2.2 前后端分离原则

以前是前端写好页面，后端在转成模板如jsp,出现问题了在去找前端解决，前端又不一定能看到java代码，导致恶性循环。前后端分离就是要解决这类问题。

术业有专攻：

后端追求的是：三高（高并发，高可用，高性能），安全，存储，业务等等。

前端追求的是：页面表现，速度流畅，兼容性，用户体验等等。

前后端分离的好处：

前端能更专注做出更好的用户体验。

后端接口简明，更容易维护

前端多渠道更容易实现，后端服务无序变更，如H5,Android，iOS、PC端等。

### 2.3无状态服务

如果一个数据需要被多个服务共享，才能完成一笔交易，那么这个数据被称为`状态`，依赖这个`状态`的服务则是由状态服务，反之则是无状态服务。

### 2.4RESTful通信风格

一种软件架构风格、设计风格，而不是标准，只是提供了一组设计原则和约束条件。 

### 1.1 动词 + 宾语

RESTful 的核心思想就是，客户端发出的数据操作指令都是"动词 + 宾语"的结构。比如，`GET /articles`这个命令，`GET`是动词，`/articles`是宾语。

动词通常就是五种 HTTP 方法，对应 CRUD 操作。

> - GET：读取（Read）
> - POST：新建（Create）
> - PUT：更新（Update）
> - PATCH：更新（Update），通常是部分更新
> - DELETE：删除（Delete）

根据 HTTP 规范，动词一律大写。

